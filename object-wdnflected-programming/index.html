<!doctype html>
      <head>
        <title>Object-wdnflected programming</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width">
        <meta name="description" content="
" >
        <link rel="stylesheet" href="/css/normalize.css" type="text/css">
        <link rel="stylesheet" href="/css/style.css" type="text/css">
        <link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css">
        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-24335480-1']);
          _gaq.push(['_trackPageview']);

          function asyncScript(src) {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = src;
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          }
          asyncScript(('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js');
        </script>
        <link rel="alternate" type="application/rss+xml" title="Subscribe to RSS feed" href="/rss.xml" />
      </head>
      <body class="article">
        <div id="mast">
          <div class='top-bar reading'>
              <div class="links logical">
                <div class="navigation logical">
                  <a href="/">Home</a>
                  <a href="/rss.xml">RSS</a>
                  <a href="/me">
                      Tim Ruffles
                  </a>
                </div>
              </div>
            </div>
        </div>
        <div id="content" class="reading">
           

           <div id="body">
              <h1><a href="/object-wdnflected-programming">Object-wdnflected programming</a></h1>
  <p>Object-orientation is a powerful way to organise code but it harms as much as helps when it&#39;s overused. The largest failure of OO has been for web-services. I gave a talk on this back in early 2014, and wanted to share it.</p>
<h2 id="what-is-oo">What is OO?</h2>
<p>OO means different things to different people. In this article I take a simple definition, which I think has a lot of weight as it&#39;s the definition from Alan Kay, the originator of OO:</p>
<p>  OOP to me means only messaging [and] local retention and protection and hiding of state-process</p>
<p>secondly Alan states:</p>
<p>  TODO objects are smaller idea, real idea is messages</p>
<p>So OO is a model for programming that can be implemented in many ways. It&#39;s specifically NOT classes, which is one way of implementing objects. It&#39;s specifically NOT certain languages, you can trivally produce objects in any language.</p>
<p>A particuarly pernicious idea is that OO is about modelling. It&#39;s pernicious because although we&#39;re writing code to help real-world people, our problems are code problems, not real world ones. Our code should be shaped by the needs of the program, not of the real world.</p>
<h2 id="why-oo">Why OO?</h2>
<p>OO is fantastic where we have something in our programs with identity and state that changes during the program&#39;s execution. It was born in the user-interface, and with good reason. UI components have identity and state - we need to track what the user has put in a text box, for instance, and the text box is definined by its identity not its content. TODO more specific</p>
<p>As a counter-example, let&#39;s consider the code problems we&#39;re faced with in responding to a HTTP request. HTTP is stateless: it can logically be thought about as a transformation of the user&#39;s input into the response. It has no time component - it is a single action which doesn&#39;t change through the generation of the response.</p>
<p>Where are the objects - with identity and state that changes - in an HTTP request handler? There is no state to change. We parse the input - statelessly. We retrieve the current state from storage - statlessly. For GET requests we transform that state into the response, and in the case of non-GET requests generate a new state and store it. There are no objects with identity that are mutated. It can be brought right down to:</p>
<p>  function abstractGET(input, state, transformToResponse) {
    return transformToResponse(input, state);
  }</p>
<p>  function abstractPOST(input, stateBefore, transformState, transformToResponse, storage) {
    var stateAfter = transformState(input, stateBefore);
    var storageResult = storage(stateAfter);
    return transformToResponse(stateAfter, storageResult);
  }</p>
<p>  TODO need better examples</p>
<p>If we involve objects with mutable state suddenly our code does not match our problem. We have stated we are dealing with time and identity, when we are only dealing with values. Objects&#39; ... CONTINUE</p>
<p>TODO code problem - is there a good phrase for this? the concept of &#39;the problem we&#39;re faced with in writing a program&#39; - it&#39;s distinct from the domain</p>

  
  
  
            </div>
        </div>
        <div class="footer reading">
          <div class="container">
            <p>ðŸ“© helloï¼ timr Â· co</p>
          </div>
        </div>
      </body>